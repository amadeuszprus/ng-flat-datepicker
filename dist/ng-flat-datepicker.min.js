!function(){"use strict";function e(e,t,a,n){return{restrict:"A",require:"ngModel",scope:{config:"=datepickerConfig"},link:function(s,o,r,i){function c(e){var t=e[0].getBoundingClientRect();return console.log(e,e[0].getBoundingClientRect()),{top:t.top+pageYOffset+e[0].offsetHeight,left:t.left+pageXOffset}}function l(e){f===e.target||f[0].contains(e.target)||e.target===o[0]||(a.off("click",l),s.$apply(function(){s.calendarCursor=y?y:k,s.pickerDisplayed=s.showMonthsList=s.showYearsList=!1}))}function d(){var e=angular.element(w);s.config.style=u(),e.addClass("ng-flat-datepicker-backdrop-showing"),e.append(f),e.append(h),angular.isDefined(i.$modelValue)&&moment.isDate(i.$modelValue)&&!s.calendarCursor&&s.$apply(function(){s.calendarCursor=i.$modelValue})}function u(e){var t=c(o),a=t.top+"px",n="auto";return t.top+365>window.innerHeight&&window.innerHeight>365&&(n=0,a="auto"),s.config.forceDisplayElement&&t&&!t.top&&!t.left&&"none"===getComputedStyle(o[0],null).display?(o.addClass("ng-flat-datepicker-force-display"),o[0].type&&"hidden"===o[0].type&&(o[0].type=void 0),e?e:u({top:a,left:0,right:"auto",bottom:n,position:"absolute"})):{top:a,left:t.left+"px",right:"auto",bottom:n,position:"absolute"}}function m(){var e=document.getElementsByClassName("ng-flat-datepicker-wrapper"),t=document.getElementsByClassName("ng-flat-datepicker-backdrop");angular.element(w).removeClass("ng-flat-datepicker-backdrop-showing");for(var a=0;a<e.length;a++)e[a].remove();for(var a=0;a<t.length;a++)t[a].remove()}function p(e){var t=[],e=moment.utc(e),a=moment(e).date(1),n=moment(e).date(e.daysInMonth()),o=moment(a),r=moment(n);o=0===a.weekday()?o:o.weekday(0),r=6===n.weekday()?r:r.weekday(6);for(var i=[],c=moment(o);c.isBefore(moment(r).add(1,"days"));c.add(1,"days")){var l=!s.config.minDate||c.isAfter(s.config.minDate,"day"),d=!s.config.maxDate||c.isBefore(s.config.maxDate,"day"),u=c.isAfter(k),m=s.config.allowFuture||!u,p={date:moment(c).toDate(),isToday:c.isSame(k,"day"),isInMonth:c.isSame(a,"month"),isSelected:c.isSame(y,"day"),isSelectable:l&&d&&m};i.push(p),6!==c.weekday()&&c!==r||(t.push(i),i=[])}return t}function g(){s.currentWeeks.forEach(function(e,t){e.forEach(function(e,a){s.currentWeeks[t][a].isSelected=!1})})}var f=angular.element(e.get("datepicker.html")),h=angular.element(e.get("backdrop.html")),y="",k=moment.utc(),w=document.getElementsByTagName("body")[0],v={allowFuture:!0,dateFormat:null,minDate:null,maxDate:null,style:{},forceDisplayElement:!0,backdrop:!0};s.config=angular.extend(v,s.config),angular.isDefined(s.config.minDate)&&moment.utc(s.config.minDate).subtract(1,"day"),angular.isDefined(s.config.maxDate)&&moment.utc(s.config.maxDate).add(1,"day"),s.calendarCursor=k,s.currentWeeks=[],s.daysNameList=n.getDaysNames(),s.monthsList=moment.months(),s.yearsList=n.getYearsList(),s.pickerDisplayed=!1,s.$watch(function(){return i.$modelValue},function(e){e&&(y=s.calendarCursor=moment.utc(e,s.config.dateFormat))}),s.$watch(function(){return s.pickerDisplayed},function(e){e?d():m()}),s.$watch("calendarCursor",function(e){s.currentWeeks=p(e)}),o.bind("click",function(e){s.$apply(function(){s.pickerDisplayed=!0,a.on("click",l)})}),s.prevMonth=function(){s.calendarCursor=moment(s.calendarCursor).subtract(1,"months")},s.nextMonth=function(){s.calendarCursor=moment(s.calendarCursor).add(1,"months")},s.selectMonth=function(e){s.showMonthsList=!1,s.calendarCursor=moment(s.calendarCursor).month(e)},s.selectYear=function(e){s.showYearsList=!1,s.calendarCursor=moment(s.calendarCursor).year(e)},s.selectDay=function(e){(e.isSelectable&&!e.isFuture||s.config.allowFuture&&e.isFuture)&&(g(),e.isSelected=!0,i.$setViewValue(moment.utc(e.date).format(s.config.dateFormat)),i.$render(),s.pickerDisplayed=!1)},t(f)(s),t(h)(s)}}}e.$inject=["$templateCache","$compile","$document","datesCalculator"],angular.module("ngFlatDatepicker",[]).directive("ngFlatDatepicker",e)}(),function(){"use strict";function e(){function e(){for(var e=[],t=2005;t<=moment().year();t++)e.push(t);return e}function t(){for(var e=[],t=0;t<7;t++)e.push(moment().weekday(t).format("ddd"));return e}return{getYearsList:e,getDaysNames:t}}angular.module("ngFlatDatepicker").factory("datesCalculator",e)}(),angular.module("ngFlatDatepicker").run(["$templateCache",function(e){e.put("backdrop.html",'<div class="ng-flat-datepicker-backdrop" ng-click="pickerDisplayed=false">\n\n</div>'),e.put("datepicker.html",'<div class="ng-flat-datepicker-wrapper" ng-style="config.style">\n    <div class="ng-flat-datepicker" ng-show="pickerDisplayed">\n        <div class="ng-flat-datepicker-table-header-bckgrnd"></div>\n        <table>\n            <caption>\n                <div class="ng-flat-datepicker-header-wrapper">\n                    <span class="ng-flat-datepicker-arrow ng-flat-datepicker-arrow-left" ng-click="prevMonth()">\n                        <svg version="1.0" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="50" y="50" viewBox="0 0 100 100" xml:space="preserve">\n                            <polygon points="64.8,36.2 35.2,6.5 22.3,19.4 51.9,49.1 22.3,78.8 35.2,91.7 77.7,49.1" />\n                        </svg>\n                    </span>\n                    <div class="ng-flat-datepicker-header-year">\n                        <div class="ng-flat-datepicker-custom-select-box" outside-click="showMonthsList = false">\n                            <span class="ng-flat-datepicker-custom-select-title ng-flat-datepicker-month-name" ng-click="showMonthsList = !showMonthsList; showYearsList = false" ng-class="{selected: showMonthsList }">{{ calendarCursor.isValid() ? calendarCursor.format(\'MMMM\') : "" }}</span>\n                            <div class="ng-flat-datepicker-custom-select" ng-show="showMonthsList">\n                                <span ng-repeat="monthName in monthsList" ng-click="selectMonth(monthName); showMonthsList = false">{{ monthName }}</span>\n                            </div>\n                        </div>\n                        <div class="ng-flat-datepicker-custom-select-box" outside-click="showYearsList = false">\n                            <span class="ng-flat-datepicker-custom-select-title" ng-click="showYearsList = !showYearsList; showMonthsList = false" ng-class="{selected: showYearsList }">{{ calendarCursor.isValid() ? calendarCursor.format(\'YYYY\') : "" }}</span>\n                            <div class="ng-flat-datepicker-custom-select" ng-show="showYearsList">\n                                <span ng-repeat="yearNumber in yearsList" ng-click="selectYear(yearNumber)">{{ yearNumber }}</span>\n                            </div>\n                        </div>\n                    </div>\n                    <span class="ng-flat-datepicker-arrow ng-flat-datepicker-arrow-right" ng-click="nextMonth()">\n                        <svg version="1.0" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="50" y="50" viewBox="0 0 100 100" xml:space="preserve">\n                            <polygon points="64.8,36.2 35.2,6.5 22.3,19.4 51.9,49.1 22.3,78.8 35.2,91.7 77.7,49.1" />\n                        </svg>\n                    </span>\n                </div>\n            </caption>\n            <tbody>\n                <tr class="days-head">\n                    <td class="day-head" ng-repeat="dayName in daysNameList">{{ dayName }}</td>\n                </tr>\n                <tr class="days" ng-repeat="week in currentWeeks">\n                    <td ng-repeat="day in week" ng-click="selectDay(day)" ng-class="[\'day-item\', { \'isToday\': day.isToday, \'isInMonth\': day.isInMonth, \'isDisabled\': !day.isSelectable, \'isSelected\': day.isSelected }]">{{ day.date | date:\'dd\' }}</td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>')}]);